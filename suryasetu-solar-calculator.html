<!DOCTYPE html>
<html lang="en">
    <script src="assets/js/app.js"></script>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">‚ö°</div>
                    <h3 class="benefit-title">Energy Freedom</h3>
                    <p>Zero dependency on grid. Net metering: Earn credits for excess energy.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Badges -->
    <div class="trust-section">
        <div class="container">
            <div class="badges">
                <div class="badge">
                    <div class="badge-icon">üõ°Ô∏è</div>
                    <div class="badge-text">25 Year Warranty</div>
                </div>
                <div class="badge">
                    <div class="badge-icon">‚úÖ</div>
                    <div class="badge-text">Certified Installers</div>
                </div>
                <div class="badge">
                    <div class="badge-icon">üéØ</div>
                    <div class="badge-text">Premium Quality</div>
                </div>
            </div>
        </div>
    </div>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">How Our Calculator Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Enter Usage</h3>
                    <p>Input your monthly electricity units from your bill</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Get Calculation</h3>
                    <p>We calculate required solar kW based on your consumption</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3 class="step-title">See Savings</h3>
                    <p>View estimated costs, savings, and payback period</p>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <h3 class="step-title">Book Visit</h3>
                    <p>Schedule free site assessment with our experts</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Free Site Visit -->
    <section class="site-visit-section" id="book-visit">
        <div class="container">
            <h2 class="section-title" style="color: #2C2C2C;">Book Your FREE Site Visit</h2>
            <p class="section-subtitle" style="color: #2C2C2C;">Our solar experts will assess your property and provide a customized solution</p>
            
            <form class="site-visit-form" onsubmit="handleFormSubmit(event)">
                <div class="form-row">
                    <input type="text" placeholder="Your Name" required>
                </div>
                <div class="form-row">
                    <input type="tel" placeholder="Mobile Number" pattern="[0-9]{10}" required>
                </div>
                <div class="form-row">
                    <input type="text" placeholder="Your City" required>
                </div>
                <button type="submit" class="submit-btn">üìÖ Book Free Site Visit</button>
                <div style="margin-top: 1rem; display: flex; gap: 0.8rem;">
                    <a href="https://wa.me/918261983642?text=Hi%20SuryaSetu%2C%20I%27d%20like%20to%20know%20more%20about%20solar%20installation" target="_blank" style="flex: 1; background: #25D366; color: white; padding: 0.8rem; border-radius: 8px; text-decoration: none; text-align: center; font-weight: 600; font-size: 0.9rem; border: none; cursor: pointer; box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3); transition: all 0.3s ease;" onmouseover="this.style.boxShadow='0 6px 16px rgba(37, 211, 102, 0.4)'" onmouseout="this.style.boxShadow='0 4px 12px rgba(37, 211, 102, 0.3)'">üí¨ Chat on WhatsApp</a>
                </div>
                <p class="scarcity-text">‚ö†Ô∏è Limited slots available per city this week!</p>
            </form>
        </div>
    </section>

    <!-- FAQ Section -->
    <section>
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>How accurate is this solar calculator?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Our calculator provides estimated results based on average solar generation factors. Final capacity may vary based on your roof area, orientation, shading, and local conditions. Our experts will provide exact specifications during the site visit.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>What is the payback period for solar panels?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Typically, solar panel systems pay for themselves in 4-6 years through electricity bill savings. After that, you enjoy free solar power for 25+ years of panel life.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Do I qualify for government subsidy?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Residential rooftop solar installations qualify for government subsidy under the PM-KUSUM scheme. Subsidy amount varies by system size and state. Our team will help you navigate the application process.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>What maintenance is required?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Solar panels require minimal maintenance - just periodic cleaning (2-3 times per year) and annual system checkup. Our panels come with 25-year performance warranty.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Will solar work during cloudy days or monsoon?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    Yes, solar panels generate electricity even on cloudy days, though at reduced capacity (10-25% of peak output). Annual calculations already account for seasonal variations to ensure year-round savings.
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 60'%3E%3Ctext x='10' y='40' font-family='Arial' font-size='28' font-weight='bold' fill='%23FFFFFF'%3ESuryaSetu%3C/text%3E%3Ctext x='10' y='55' font-family='Arial' font-size='10' fill='%234CAF50'%3EENERGY SOLUTION%3C/text%3E%3Ccircle cx='180' cy='20' r='12' fill='%23FFD700'/%3E%3C/svg%3E" alt="SuryaSetu Energy Solution" class="footer-logo">
            
            <div class="disclaimer">
                <strong>Disclaimer:</strong> This calculator provides estimated solar capacity and savings based on average consumption patterns and solar generation factors. Actual solar system size and performance may vary based on roof area, orientation, shading analysis, local weather conditions, and specific site requirements. Final specifications and cost will be determined after professional site assessment. Results are for informational purposes only and do not constitute a binding quote.
            </div>
            
            <p class="copyright">¬© 2026 SuryaSetu Energy Solution. All rights reserved.</p>
        </div>
    </footer>

    <!-- Sticky Mobile CTA -->
    <div class="sticky-cta">
        <a href="#book-visit">üìû Book FREE Site Visit Now</a>
    </div>
    
    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/918261983642" target="_blank" style="position: fixed; bottom: 80px; right: 20px; background: #25D366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4); text-decoration: none; z-index: 998; transition: all 0.3s ease; border: none;" 
        onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(37, 211, 102, 0.6)'"
        onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(37, 211, 102, 0.4)'">
        üí¨
    </a>

    <script>
        // Region-specific solar generation and costs
        const regionData = {
            pune: {
                name: 'Pune, Maharashtra',
                solarGeneration: 4.5, // units/kW/day
                residential: {
                    tariff: 8,
                    costPerKw: 60000, // ‚Çπ60,000/kW before subsidy
                    subsidyPerKw: 18000 // ‚Çπ18,000/kW subsidy for up to 10kW
                },
                commercial: {
                    tariff: 12,
                    costPerKw: 65000, // ‚Çπ65,000/kW before subsidy
                    subsidyPerKw: 9000 // ‚Çπ9,000/kW for above 10kW
                }
            }
        };

        // Solar Calculator Logic
        function calculateSolar() {
            const billAmount = parseFloat(document.getElementById('billAmount').value);
            const data = regionData['pune'];
            
            if (!billAmount || billAmount <= 0) {
                alert('Please enter a valid bill amount');
                return;
            }
            
            // Determine if residential or commercial based on bill amount
            // Residential typically under ‚Çπ10,000/month, commercial above
            const isCommercial = billAmount > 10000;
            const tariffData = isCommercial ? data.commercial : data.residential;
            const tariff = tariffData.tariff;
            
            // Calculate units from bill amount
            const units = billAmount / tariff;
            
            // Formula: Solar kW = (Monthly Units √∑ 30) √∑ Solar Generation per kW per day
            const dailyUnits = units / 30;
            const rawSolarKw = dailyUnits / data.solarGeneration;
            
            // Round up to nearest 0.5 kW
            const solarKw = Math.ceil(rawSolarKw * 2) / 2;
            
            // Calculate costs dynamically based on system size
            const totalCostBeforeSubsidy = solarKw * tariffData.costPerKw;
            
            // NEW Subsidy calculation - Tiered structure
            // Up to 2 kW: ‚Çπ30,000 per kW
            // Above 2 kW up to 3 kW: ‚Çπ30,000/kW for first 2 kW + ‚Çπ18,000 for 3rd kW
            // Above 3 kW: Fixed maximum subsidy of ‚Çπ78,000
            let subsidyAmount = 0;
            
            if (solarKw <= 2) {
                // Up to 2 kW: ‚Çπ30,000/kW
                subsidyAmount = solarKw * 30000;
            } else if (solarKw <= 3) {
                // 2-3 kW: ‚Çπ30,000 √ó 2 + ‚Çπ18,000 for the extra kW
                subsidyAmount = (2 * 30000) + ((solarKw - 2) * 18000);
            } else {
                // Above 3 kW: Fixed max of ‚Çπ78,000
                subsidyAmount = 78000;
            }
            
            const netCost = totalCostBeforeSubsidy - subsidyAmount;
            
            // Calculations
            const monthlySavings = billAmount;
            const annualSavings = monthlySavings * 12;
            const paybackYears = (annualSavings > 0) ? (netCost / annualSavings).toFixed(1) : 'N/A';
            
            // Display results
            const systemType = isCommercial ? ' (Commercial)' : ' (Residential)';
            document.getElementById('solarSize').textContent = solarKw + ' kW' + systemType;
            document.getElementById('monthlySavings').textContent = '‚Çπ' + Math.round(monthlySavings).toLocaleString('en-IN');
            document.getElementById('annualSavings').textContent = '‚Çπ' + Math.round(annualSavings).toLocaleString('en-IN');
            document.getElementById('systemCost').textContent = '‚Çπ' + Math.round(netCost).toLocaleString('en-IN') + ' (after ‚Çπ' + Math.round(subsidyAmount).toLocaleString('en-IN') + ' subsidy)';
            document.getElementById('payback').textContent = (paybackYears === 'N/A') ? 'N/A' : (paybackYears + ' years');
            
            // Show results with animation
            const resultsDiv = document.getElementById('results');
            resultsDiv.classList.add('show');
            
            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // Allow Enter key to trigger calculation
        document.getElementById('billAmount').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                calculateSolar();
            }
        });
        
        // Update tariff placeholder when region changes
        // (removed - region selector removed)
        
        // FAQ Toggle
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            const isActive = answer.classList.contains('active');
            
            // Close all FAQs
            document.querySelectorAll('.faq-answer').forEach(a => a.classList.remove('active'));
            document.querySelectorAll('.faq-question').forEach(q => q.classList.remove('active'));
            
            // Open clicked FAQ if it wasn't active
            if (!isActive) {
                answer.classList.add('active');
                element.classList.add('active');
            }
        }
        
        // Form Submission Handler
        function handleFormSubmit(event) {
            event.preventDefault();
            
            // In production, this would send to your CRM/backend
            alert('Thank you! Our solar expert will contact you within 24 hours to schedule your FREE site visit.');
            
            // Reset form
            event.target.reset();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>